(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58046d73"],{2786:function(t,e,a){},8144:function(t,e,a){"use strict";var i=a("a7b5"),s=a.n(i);s.a},a7b5:function(t,e,a){},b9f8:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("headers",{attrs:{title:t.title}})],1),a("el-row",[a("div",{staticClass:"main"},[a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("div",{staticClass:"basic"},[a("el-row",{attrs:{type:"flex",justify:"space-around"}},t._l(t.basic_list,(function(e,i){return a("el-col",{key:i,attrs:{span:3}},[a("div",{staticClass:"basic_t",class:t.num==i?"active":"",on:{click:function(e){return t.fn(i)}}},[a("div",[a("i",{staticClass:"iconfont icon-dui"})]),a("span",[t._v(" "+t._s(e.text)+" ")])])])})),1)],1)])],1)],1)]),a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[0==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("基本信息")]),a("span",{staticClass:"r"},[a("span",{staticClass:"rs"},[t._v("*")]),a("span",[t._v("必填项")])])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[a("el-form-item",{attrs:{label:"产品类型：",prop:"product_t"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.product_t,callback:function(e){t.$set(t.form,"product_t",e)},expression:"form.product_t"}},t._l(t.options,(function(t,e){return a("el-option",{key:e,attrs:{label:t.typeName,value:t.id}})})),1)],1),a("el-form-item",{staticClass:"is-required",attrs:{label:"产品名称：",prop:"name",maxlength:"20"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"产品图片："}},[a("div",{staticClass:"files"},[t._v("+ "),a("div",{staticClass:"files_left"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.image,alt:"",id:"image"}})]),a("div",{staticClass:"files_right"},[a("input",{staticClass:"form-control",attrs:{type:"file",name:"upload"},on:{change:t.onFileChange}})])])]),a("el-form-item",{staticClass:"is-required",attrs:{label:"产品描述：",prop:"text"}},[a("el-input",{attrs:{type:"textarea",rows:12,maxlength:"500","show-word-limit":""},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.next1("form")}}},[t._v("下一步")])],1)],1)],1)],1)],1)])],1)],1):t._e(),1==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("产品特点")])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"产品特点"}},[a("div",{staticStyle:{height:"500px",width:"100%"}},[a("editor-bar",{ref:"“name”",attrs:{isClear:t.isClear},on:{change:t.change1},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)],1)],1)])],1)],1):t._e(),2==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("技术参数")])])])],1),a("el-row",[a("div",{staticClass:"js_list"},[a("el-row",[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"产品图片："}},[a("div",{staticClass:"files"},[t._v("+ "),a("div",{staticClass:"files_left"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.image2,alt:"",id:"image"}})]),a("div",{staticClass:"files_right"},[a("input",{staticClass:"form-control",attrs:{type:"file",name:"upload"},on:{change:t.onFileChange2}})])])])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)])],1):t._e(),3==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("外观尺寸")])])])],1),a("el-row",[a("div",{staticClass:"wg_list"},[a("el-row",[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"产品图片："}},[a("div",{staticClass:"files"},[t._v("+ "),a("div",{staticClass:"files_left"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.image3,alt:"",id:"image"}})]),a("div",{staticClass:"files_right"},[a("input",{staticClass:"form-control",attrs:{type:"file",name:"upload"},on:{change:t.onFileChange3}})])])])],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)])],1):t._e(),4==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("订货须知")])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"订货须知"}},[a("div",{staticStyle:{height:"500px"}},[a("editor-bar",{attrs:{isClear:t.isClear},on:{change:t.change2},model:{value:t.ordering,callback:function(e){t.ordering=e},expression:"ordering"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)],1)],1)])],1)],1):t._e(),5==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("注意事项")])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"注意事项"}},[a("div",{staticStyle:{height:"500px"}},[a("editor-bar",{attrs:{isClear:t.isClear},on:{change:t.change3},model:{value:t.attention,callback:function(e){t.attention=e},expression:"attention"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("发布")])],1)],1)],1)],1)],1)])],1)],1):t._e()])],1)],1)},s=[],n=(a("b0c0"),a("71c2")),o=a("0c98"),l={components:{headers:n["a"],EditorBar:o["a"]},data:function(){return{file:"",file2:"",file3:"",editModeEnabled:!1,isClear:!1,detail:"",ordering:"",attention:"",num:0,title:"修改产品",basic_list:[{text:"基本信息"},{text:"产品特点"},{text:"技术参数"},{text:"外观尺寸"},{text:"订货须知"},{text:"注意事项"}],form:{name:"",product_t:"",text:""},form2:{text:""},image:"",image2:"",image3:"",rules:{name:[{required:!0,message:"产品名称不能为空"},{min:1,max:20,message:"不能超过20字"}],text:[{required:!0,message:"产品描述不能为空"},{min:1,max:1e3,message:"不能超过1000字"}],product_t:[{required:!0,message:"请选择产品类型",trigger:"change"}]},options:[],skll_list:[{nominal:"1",model:"1",traffic:"1",initiation:"1",pressure:"1",accuracy:"1",qmax:"1",shell:"1"}],appearance_list:[{nominal:"2",model:"2",traffic:"2",initiation:"2",pressure:"2",accuracy:"2",qmax:"2",shell:"2"}],id:""}},methods:{fn:function(t){this.num=t},change1:function(t){this.detail=t},change2:function(t){this.ordering=t},next1:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.num+=1}))},next:function(){this.num+=1,console.log(this.num)},change3:function(t){this.attention=t},rowClass:function(t){t.row,t.rowIndex;return"text-align:center;background:#f5f5f5;color:#666"},cellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"text-align:center;"},onFileChange3:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage3(e[0]),this.file3=e[0],console.log(this.file))},createImage3:function(t){new Image;var e=new FileReader,a=this;e.onload=function(t){a.image3=t.target.result},e.readAsDataURL(t)},onFileChange2:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage2(e[0]),this.file2=e[0],console.log(this.file))},createImage2:function(t){new Image;var e=new FileReader,a=this;e.onload=function(t){a.image2=t.target.result},e.readAsDataURL(t),console.log(a.image2)},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage(e[0]),console.log(e),this.file=e[0])},createImage:function(t){new Image;var e=new FileReader,a=this;e.onload=function(t){a.image=t.target.result},e.readAsDataURL(t)},onSubmit:function(){console.log("submit!")},sub:function(){var t=this,e=window.sessionStorage.getItem("userId"),a=new window.FormData;""==this.file?this.$confirm("确认发布, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(i){"confirm"===i&&(a.append("file",t.file),a.append("name",t.form.name),a.append("productTypeId",t.form.product_t),a.append("context",t.form.text),a.append("productTrait",t.detail),a.append("productParameters",t.file2),a.append("productExternal",t.file3),a.append("productOrder",t.ordering),a.append("productAttention",t.attention),a.append("userId",e),a.append("id",t.id),t.$axios.post("/tomlive/productInfo/updateByPrimaryKeySelective1",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t.$router.push("/home/product_fb_c")})))})).catch((function(){t.$message({type:"info",message:"取消添加"})})):this.$confirm("确认发布, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(i){"confirm"===i&&(a.append("file",t.file),a.append("name",t.form.name),a.append("productTypeId",t.form.product_t),a.append("context",t.form.text),a.append("productTrait",t.detail),a.append("productParameters",t.file2),a.append("productExternal",t.file3),a.append("productOrder",t.ordering),a.append("productAttention",t.attention),a.append("userId",e),a.append("id",t.id),t.$axios.post("/tomlive/productInfo/updateByPrimaryKeySelective",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t.$router.push("/home/product_fb_c")})))})).catch((function(){t.$message({type:"info",message:"取消添加"})}))}},mounted:function(){var t=this,e=window.sessionStorage.getItem("product_details"),a=JSON.parse(e);console.log(a),this.id=a.id,this.form.name=a.name,this.form.text=a.context,this.image=a.photo,this.form.product_t=a.typeId,this.image2=a.productParameters,this.image3=a.productExternal,this.$axios.post("/tomlive/productType/selectAllProductType").then((function(e){console.log(e),t.options=e.data.info}))}},r=l,c=(a("e1cb"),a("8144"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"39610e5f",null);e["default"]=d.exports},e1cb:function(t,e,a){"use strict";var i=a("2786"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-58046d73.df7ee44f.js.map