(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e10045b4"],{"61ca":function(t,e,a){"use strict";var n=a("a7cc"),s=a.n(n);s.a},"71c2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("div",{staticClass:"header_line"}),a("div",{staticClass:"header_a"},[a("span",[t._v(t._s(t.arr))])])])],1)],1)},s=[],r={props:["title"],data:function(){return{arr:this.title}},mounted:function(){}},l=r,o=(a("61ca"),a("2877")),i=Object(o["a"])(l,n,s,!1,null,"fa54168a",null);e["a"]=i.exports},9712:function(t,e,a){"use strict";var n=a("c460"),s=a.n(n);s.a},a7cc:function(t,e,a){},c460:function(t,e,a){},eb7e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("headers",{attrs:{title:t.title}})],1),a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("div",{staticClass:"data_sift"},[a("div",{staticClass:"data_s_t"},[a("span",[t._v("数据筛选")])]),a("el-row",{attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"data_s_c"},[a("el-row",[a("el-col",{attrs:{span:7}},[a("span",[t._v("员工姓名：")])]),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"data_s_c"},[a("el-row",[a("el-col",{attrs:{span:7}},[a("span",[t._v("登录账号：")])]),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{placeholder:"账号",maxlength:"20","show-word-limit":""},model:{value:t.account_num,callback:function(e){t.account_num=e},expression:"account_num"}})],1)],1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"data_s_c"},[a("el-row",[a("el-col",{attrs:{span:7}},[a("span",[t._v("状态：")])]),a("el-col",{attrs:{span:17}},[a("el-select",{attrs:{placeholder:"正常/冻结"},model:{value:t.status_num,callback:function(e){t.status_num=e},expression:"status_num"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"未冻结",value:"1"}}),a("el-option",{attrs:{label:"冻结",value:"2"}})],1)],1)],1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"data_s_c"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.query()}}},[t._v("查询")])],1)])],1)],1),a("div",{staticClass:"data_list"},[a("div",{staticClass:"data_l_s"},[a("span",[t._v("数据列表")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("添加")])],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.user_list.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),"header-cell-style":t.rowClass,"cell-style":t.cellStyle,border:""},on:{"row-click":t.handle}},[a("el-table-column",{attrs:{prop:"id",label:"序号"}}),a("el-table-column",{attrs:{prop:"realName",label:"员工姓名"}}),a("el-table-column",{attrs:{prop:"userName",label:"登录账号"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:t.formats}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"oa"},[a("span",{staticClass:"d",staticStyle:{color:"#0079FE"},on:{click:function(a){return a.stopPropagation(),t.oa(e.$index,e.row.id)}}},[t._v("冻结")]),a("span",{staticStyle:{cursor:"pointer",color:"#0079FE"},on:{click:function(a){return a.stopPropagation(),t.del(e.$index,e.row.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" 删除")])])]}}])})],1),a("el-row",[a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])],1)])])],1)],1)},s=[],r=a("71c2"),l={components:{headers:r["a"]},data:function(){return{title:"账号管理",user_list:[],username:"",account_num:"",status_num:"",currentPage:1,pagesize:20,total:0}},methods:{query:function(){var t=this;this.$axios.post("/tomlive/user/selectUserByCondition",this.$qs.stringify({userName:this.account_num,realName:this.username,status:this.status_num})).then((function(e){t.user_list=e.data.info,setTimeout((function(){for(var e=document.querySelectorAll(".oa .d"),a=0;a<t.user_list.length;a++)1==t.user_list[a].status?e[a].innerHTML="冻结":e[a].innerHTML="取消冻结"}),1)}))},handle:function(t,e,a){console.log(t,e,a),window.sessionStorage.setItem("account_edit",JSON.stringify(t)),this.$router.push("/home/account_edit")},rowClass:function(t){t.row,t.rowIndex;return"text-align:center;background:#F5F5F5;color:#666"},cellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"text-align:center;"},add:function(){this.$router.push("/home/new_account")},formats:function(t,e,a){return 1===a?"未冻结":"冻结"},handleSizeChange:function(t){},handleCurrentChange:function(t){},user_lists:function(){var t=this;this.$axios.post("/tomlive/user/selectAllUser").then((function(e){t.user_list=e.data.info.reverse(),t.total=t.user_list.length,setTimeout((function(){for(var e=document.querySelectorAll(".oa .d"),a=0;a<t.user_list.length;a++)1==t.user_list[a].status?e[a].innerHTML="冻结":e[a].innerHTML="取消冻结"}),1)}))},oa:function(t,e){var a=this;18==e?alert("管理员账号不可冻结"):this.$confirm("是否冻结?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(n){if(console.log(n),"confirm"===n){var s=document.querySelectorAll(".oa .d");a.$axios.post("/tomlive/user/updateUserStatus",a.$qs.stringify({id:e})).then((function(e){201==e.data.code?s[t].innerHTML="取消冻结":s[t].innerHTML="冻结",a.user_lists()}))}})).catch((function(){a.$message({type:"info",message:"已取消"})}))},del:function(t,e){var a=this;18==e?alert("管理员账号不可删除"):this.$confirm("是否删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(t){"confirm"===t&&a.$axios.post("/tomlive/user/deleteUserByPrimaryKey",a.$qs.stringify({id:e})).then((function(t){a.user_lists()}))})).catch((function(){a.$message({type:"info",message:"已取消"})}))}},mounted:function(){this.user_lists()}},o=l,i=(a("9712"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"1f6c0753",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-e10045b4.7d47e5e5.js.map