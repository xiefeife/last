(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-378f597c"],{"00e3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("headers",{attrs:{title:t.title}})],1),n("el-row",[n("el-col",{attrs:{span:18,offset:3}},[n("div",{staticClass:"data_sift"},[n("div",{staticClass:"data_title"},[n("span",[t._v("数据筛选")])]),n("el-row",{attrs:{type:"flex",justify:"space-around"}},[n("el-col",{attrs:{span:5}},[n("div",{staticClass:"data_s"},[n("el-row",[n("el-col",{attrs:{span:7}},[t._v("产品名称：")]),n("el-col",{attrs:{span:17}},[n("el-input",{on:{input:t.select},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)],1)]),n("el-col",{attrs:{span:5}},[n("div",{staticClass:"data_s"},[n("el-row",[n("el-col",{attrs:{span:7}},[t._v("产品类型：")]),n("el-col",{attrs:{span:17}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.product_t,callback:function(e){t.product_t=e},expression:"product_t"}},t._l(t.options,(function(t,e){return n("el-option",{key:e,attrs:{label:t.typeName,value:t.id}})})),1)],1)],1)],1)]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"data_s"},[n("el-row",[n("el-col",{attrs:{span:7}},[t._v("发布时间：")]),n("el-col",{attrs:{span:17}},[n("el-date-picker",{staticStyle:{width:"100%","font-size":"12px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1)]),n("el-col",{attrs:{span:5}},[n("div",{staticClass:"data_s"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.select}},[t._v("查询")])],1)])],1)],1),n("div",{staticClass:"data_list"},[n("div",{staticClass:"data_l_t"},[n("span",[t._v(" 数据列表 ")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("添加")])],1),n("div",{staticClass:"state"},[n("span",{class:0==t.num?"active":"",on:{click:t.on}},[t._v("已发布("+t._s(t.list.length)+")")]),n("span",{class:1==t.num?"active":"",on:{click:t.off}},[t._v("未发布("+t._s(t.lists.length)+")")])]),0==t.num?n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),"header-cell-style":t.rowClass,"cell-style":t.cellStyle,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"序号",width:"100"}}),n("el-table-column",{attrs:{prop:"id",label:"产品编号"}}),n("el-table-column",{attrs:{prop:"name",label:"产品名称","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"typeName",label:"产品类型"}}),n("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.photo,alt:""}})]}}],null,!1,2367194689)}),n("el-table-column",{attrs:{prop:"creationTime",label:"创建时间","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"realName",label:"创建人"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{cursor:"pointer",color:"#0079FE"},on:{click:function(n){return n.stopPropagation(),t.re(e.$index,e.row)}}},[n("i",{staticClass:"el-icon-refresh"}),t._v(" 撤回")])]}}],null,!1,2057244141)})],1),n("el-row",[n("div",{staticClass:"pages"},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"prev, pager, next, jumper",total:t.list.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])],1):t._e(),1==t.num?n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.lists.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),"header-cell-style":t.rowClass,"cell-style":t.cellStyle,border:""},on:{"row-click":t.handdles}},[n("el-table-column",{attrs:{prop:"id",label:"序号",width:"100"}}),n("el-table-column",{attrs:{prop:"id",label:"产品编号"}}),n("el-table-column",{attrs:{prop:"name",label:"产品名称","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"typeName",label:"产品类型"}}),n("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.photo,alt:""}})]}}],null,!1,2367194689)}),n("el-table-column",{attrs:{prop:"creationTime",label:"创建时间","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"realName",label:"创建人"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{cursor:"pointer",color:"#0079FE"},on:{click:function(n){return n.stopPropagation(),t.del(e.$index,e.row.id)}}},[n("i",{staticClass:"el-icon-delete"}),t._v(" 删除")])]}}],null,!1,280568718)})],1),n("el-row",[n("div",{staticClass:"pages"},[n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pagesize,layout:"prev, pager, next, jumper",total:t.lists.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])],1):t._e()])])],1)],1)},r=[],o=(n("4de4"),n("c975"),n("b0c0"),n("71c2")),l={components:{headers:o["a"]},data:function(){return{title:"产品管理",currentPage:1,pagesize:5,total:1,product_list:[],num:0,name:"",product_t:"",time:"",options:[],restaurants:[]}},methods:{formatDate:function(t){if("string"==typeof t)return this.formatDate2(t);var e=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var a=t.getDate();a=a<10?"0"+a:a;var r=t.getHours();r=r<10?"0"+r:r;var o=t.getMinutes();o=o<10?"0"+o:o;var l=t.getSeconds();return l=l<10?"0"+l:l,e+"-"+n+"-"+a+" "+r+"-"+o+"-"+l},select:function(){var t,e,n=this;""==this.time?(t="",e=""):(t=this.formatDate(this.time[0]),e=this.formatDate(this.time[1])),this.$axios.post("/tomlive/productInfo/selectProductInfoByCondition",this.$qs.stringify({name:this.name,productTypeId:this.product_t,beginTime:t,endTime:e,status:""})).then((function(t){console.log(t),n.product_list=t.data.info}))},on:function(){this.num=0},off:function(){this.num=1},re:function(t,e){var n=this;this.$confirm("是否撤回?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(t){"confirm"===t&&n.$axios.post("/tomlive/productInfo/updateProductInfoStatus",n.$qs.stringify({id:e.id})).then((function(t){console.log(t),n.all()}))})).catch((function(){n.$message({type:"info",message:"已取消"})}))},handdle:function(t,e,n){console.log(t,e,n),window.sessionStorage.setItem("product_details",JSON.stringify(t)),this.$router.push("/home/product_details")},handdles:function(t,e,n){console.log(t,e,n),window.sessionStorage.setItem("product_details",JSON.stringify(t)),this.$router.push("/home/product_edit")},rowClass:function(t){t.row,t.rowIndex;return"text-align:center;background:#f5f5f5;color:#666"},cellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"text-align:center;"},add:function(){this.$router.push("/home/add_product")},handleSizeChange:function(t){},handleCurrentChange:function(t){},formats:function(t,e,n){return 1===n?"发布":"未发布"},del:function(t,e){var n=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(t){"confirm"===t&&n.$axios.post("/tomlive/productInfo/deleteProductInfoByPrimaryKey",n.$qs.stringify({id:e})).then((function(t){n.all()}))})).catch((function(){n.$message({type:"info",message:"已取消"})})),console.log(t,e)},edit:function(t,e){console.log(t,e)},all:function(){var t=this;this.$axios.post("/tomlive/productInfo/selectAllProductInfo").then((function(e){console.log(e),t.product_list=e.data.info.reverse(),t.total=t.product_list.length}))},handleSelect:function(t){console.log(t)},querySearch:function(t,e){var n=this.restaurants,a=t?n.filter(this.createFilter(t)):n;e(a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}}},mounted:function(){var t=this;this.all(),this.$axios.post("/tomlive/productType/selectAllProductType").then((function(e){t.options=e.data.info}))},computed:{list:function(){return this.product_list.filter((function(t){return 1==t.status}))},lists:function(){return this.product_list.filter((function(t){return 0==t.status}))}}},i=l,s=(n("b288"),n("2877")),c=Object(s["a"])(i,a,r,!1,null,"a1786a2c",null);e["default"]=c.exports},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),o=n("2d00"),l=r("species");t.exports=function(t){return o>=51||!a((function(){var e=[],n=e.constructor={};return n[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").filter,o=n("1dde"),l=n("ae40"),i=o("filter"),s=l("filter");a({target:"Array",proto:!0,forced:!i||!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"61ca":function(t,e,n){"use strict";var a=n("a7cc"),r=n.n(a);r.a},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),o=n("b622"),l=o("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[l],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"71c2":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("el-row",[n("el-col",{attrs:{span:18,offset:3}},[n("div",{staticClass:"header_line"}),n("div",{staticClass:"header_a"},[n("span",[t._v(t._s(t.arr))])])])],1)],1)},r=[],o={props:["title"],data:function(){return{arr:this.title}},mounted:function(){}},l=o,i=(n("61ca"),n("2877")),s=Object(i["a"])(l,a,r,!1,null,"fa54168a",null);e["a"]=s.exports},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},a7cc:function(t,e,n){},ae40:function(t,e,n){var a=n("83ab"),r=n("d039"),o=n("5135"),l=Object.defineProperty,i={},s=function(t){throw t};t.exports=function(t,e){if(o(i,t))return i[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:s,d=o(e,1)?e[1]:void 0;return i[t]=!!n&&!r((function(){if(c&&!a)return!0;var t={length:-1};c?l(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,u,d)}))}},b0c0:function(t,e,n){var a=n("83ab"),r=n("9bf2").f,o=Function.prototype,l=o.toString,i=/^\s*function ([^ (]*)/,s="name";a&&!(s in o)&&r(o,s,{configurable:!0,get:function(){try{return l.call(this).match(i)[1]}catch(t){return""}}})},b288:function(t,e,n){"use strict";var a=n("e4cd"),r=n.n(a);r.a},b727:function(t,e,n){var a=n("0366"),r=n("44ad"),o=n("7b0b"),l=n("50c4"),i=n("65f0"),s=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,f=5==t||d;return function(p,h,g,m){for(var v,b,y=o(p),w=r(y),_=a(h,g,3),x=l(w.length),C=0,S=m||i,k=e?S(p,x):n?S(p,0):void 0;x>C;C++)if((f||C in w)&&(v=w[C],b=_(v,C,y),t))if(e)k[C]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return C;case 2:s.call(k,v)}else if(u)return!1;return d?-1:c||u?u:k}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c975:function(t,e,n){"use strict";var a=n("23e7"),r=n("4d64").indexOf,o=n("a640"),l=n("ae40"),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),u=l("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:s||!c||!u},{indexOf:function(t){return s?i.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},e4cd:function(t,e,n){},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-378f597c.2680f667.js.map