(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a04e6aae"],{"0323":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("headers",{attrs:{title:t.title}})],1),a("el-row",[a("div",{staticClass:"main"},[a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[a("div",{staticClass:"basic"},[a("el-row",{attrs:{type:"flex",justify:"space-around"}},t._l(t.basic_list,(function(e,i){return a("el-col",{key:i,attrs:{span:3}},[a("div",{staticClass:"basic_t",class:t.num==i?"active":""},[a("div",[a("i",{staticClass:"iconfont icon-dui"})]),a("span",[t._v(" "+t._s(e.text)+" ")])])])})),1)],1)])],1)],1)]),a("el-row",[a("el-col",{attrs:{span:18,offset:3}},[0==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("基本信息")]),a("span",{staticClass:"r"},[a("span",{staticClass:"rs"},[t._v("*")]),a("span",[t._v("必填项")])])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[a("el-form-item",{attrs:{label:"产品类型：",prop:"product_t"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.form.product_t,callback:function(e){t.$set(t.form,"product_t",e)},expression:"form.product_t"}},t._l(t.options,(function(t,e){return a("el-option",{key:e,attrs:{label:t.typeName,value:t.id}})})),1)],1),a("el-form-item",{staticClass:"is-required",attrs:{label:"产品名称：",prop:"name"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"产品图片：",prop:"image"}},[a("div",{staticClass:"files"},[t._v("+ "),a("div",{staticClass:"files_left"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.form.image,alt:""}})]),a("div",{staticClass:"files_right"},[a("input",{staticClass:"form-control",attrs:{type:"file",name:"upload"},on:{change:t.onFileChange}})])])]),a("el-form-item",{staticClass:"is-required",attrs:{label:"产品描述：",prop:"text"}},[a("el-input",{attrs:{type:"textarea",rows:12,maxlength:"500","show-word-limit":""},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.next1("form")}}},[t._v("下一步")])],1)],1)],1)],1)],1)])],1)],1):t._e(),1==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("产品特点")])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"产品特点"}},[a("div",{staticStyle:{height:"500px",width:"100%"}},[a("editor-bar",{on:{change:t.change1},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)],1)],1)])],1)],1):t._e(),2==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("技术参数")])])])],1),a("el-row",[a("div",{staticClass:"js_list"},[a("el-row",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[a("el-form-item",{attrs:{label:"产品图片：",prop:"image2"}},[a("div",{staticClass:"files"},[t._v("+ "),a("div",{staticClass:"files_left"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.form.image2,alt:"",id:"image"}})]),a("div",{staticClass:"files_right"},[a("input",{staticClass:"form-control",attrs:{type:"file",name:"upload"},on:{change:t.onFileChange2}})])])]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.next2("form")}}},[t._v("下一步")])],1)],1)],1)],1)])],1):t._e(),3==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("外观尺寸")])])])],1),a("el-row",[a("div",{staticClass:"wg_list"},[a("el-row",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[a("el-form-item",{attrs:{label:"产品图片：",prop:"image4"}},[a("div",{staticClass:"files"},[t._v("+ "),a("div",{staticClass:"files_left"},[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.form.image4,alt:"",id:"image"}})]),a("div",{staticClass:"files_right"},[a("input",{staticClass:"form-control",attrs:{type:"file",name:"upload2"},on:{change:t.onFileChange3}})])])]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.next2("form")}}},[t._v("下一步")])],1)],1)],1)],1)])],1):t._e(),4==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("订货须知")])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"订货须知"}},[a("div",{staticStyle:{height:"500px"}},[a("editor-bar",{attrs:{isClear:t.isClear},on:{change:t.change2},model:{value:t.ordering,callback:function(e){t.ordering=e},expression:"ordering"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)],1)],1)])],1)],1):t._e(),5==t.num?a("div",{staticClass:"basic_content"},[a("el-row",[a("el-col",[a("div",{staticClass:"basic_title"},[a("span",[t._v("注意事项")])])])],1),a("el-row",[a("el-col",{attrs:{span:20,offset:2}},[a("div",{staticClass:"basic_exit"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form",{attrs:{model:t.form2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"注意事项"}},[a("div",{staticStyle:{height:"500px"}},[a("editor-bar",{attrs:{isClear:t.isClear},on:{change:t.change3},model:{value:t.attention,callback:function(e){t.attention=e},expression:"attention"}})],1)]),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存草稿")]),a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("发布")])],1)],1)],1)],1)],1)])],1)],1):t._e()])],1)],1)},s=[],o=(a("b0c0"),a("71c2")),r=a("0c98"),n={components:{headers:o["a"],EditorBar:r["a"]},data:function(){return{file:"",file2:"",file3:"",editModeEnabled:!1,isClear:!1,detail:"",ordering:"",attention:"",num:0,title:"新增产品",basic_list:[{text:"基本信息"},{text:"产品特点"},{text:"技术参数"},{text:"外观尺寸"},{text:"订货须知"},{text:"注意事项"}],form:{name:"",product_t:"",text:"",image:"",image2:"",image4:""},form2:{text:""},image:"",image2:"",image3:"",rules:{name:[{required:!0,message:"产品名称不能为空"}],text:[{required:!0,message:"产品描述不能为空"},{min:1,max:1e3,message:"不能超过1000字"}],product_t:[{required:!0,message:"请选择产品类型",trigger:"change"}],image:[{required:!0,message:"请选择图片"}],image2:[{required:!0,message:"请选择图片"}],image4:[{required:!0,message:"请选择图片"}]},options:[],skll_list:[{nominal:"1",model:"1",traffic:"1",initiation:"1",pressure:"1",accuracy:"1",qmax:"1",shell:"1"}],appearance_list:[{nominal:"2",model:"2",traffic:"2",initiation:"2",pressure:"2",accuracy:"2",qmax:"2",shell:"2"}]}},methods:{fn:function(t){this.num=t;var e=document.querySelectorAll(".basic_t div");e[t].setAttribute("class","active")},next1:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.num+=1}))},next:function(){this.num+=1,console.log(this.num)},next2:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.num+=1}))},change1:function(t){this.detail=t},change2:function(t){this.ordering=t},change3:function(t){this.attention=t},rowClass:function(t){t.row,t.rowIndex;return"text-align:center;background:#f5f5f5;color:#666"},cellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"text-align:center;"},onFileChange3:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage3(e[0]),this.file3=e[0],console.log(this.file,1))},createImage3:function(t){var e=this,a=(new Image,new FileReader),i=this;a.onload=function(t){i.form.image4=t.target.result},a.readAsDataURL(t),console.log(i.form.image4),setTimeout((function(){e.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1}))}),100)},onFileChange2:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage2(e[0]),this.file2=e[0],console.log(this.file))},createImage2:function(t){var e=this,a=(new Image,new FileReader),i=this;a.onload=function(t){i.form.image2=t.target.result},a.readAsDataURL(t),setTimeout((function(){e.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1}))}),100)},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage(e[0]),this.file=e[0],console.log(this.file))},createImage:function(t){var e=this,a=(new Image,new FileReader),i=this;a.onload=function(t){i.form.image=t.target.result},a.readAsDataURL(t),setTimeout((function(){e.$refs["form"].validate((function(t){if(!t)return console.log("error submit!!"),!1}))}),100)},onSubmit:function(){console.log("submit!")},sub:function(){var t=this;this.$confirm("确认发布, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){if("confirm"===e){var a=window.sessionStorage.getItem("userId"),i=new window.FormData;i.append("file",t.file),i.append("name",t.form.name),i.append("productTypeId",t.form.product_t),i.append("context",t.form.text),i.append("productTrait",t.detail),i.append("productParameters",t.file2),i.append("productExternal",t.file3),i.append("productOrder",t.ordering),i.append("productAttention",t.attention),i.append("userId",a),t.$axios.post("/tomlive/productInfo/insertSelectProductInfo",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t.$router.push("/home/product_fb_c")}))}})).catch((function(){t.$message({type:"info",message:"取消添加"})}))},save:function(){var t=this;this.$confirm("确认保存, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){if("confirm"===e){var a=window.sessionStorage.getItem("userId"),i=new window.FormData;i.append("file",t.file),i.append("name",t.form.name),i.append("productTypeId",t.form.product_t),i.append("context",t.form.text),i.append("productTrait",t.detail),i.append("productParameters",t.file2),i.append("productExternal",t.file3),i.append("productOrder",t.ordering),i.append("productAttention",t.attention),i.append("userId",a),t.$axios.post("/tomlive/productInfo/insertSelectProductInfo1",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),t.$router.push("/home/product_add_c")}))}})).catch((function(){t.$message({type:"info",message:"取消添加"})}))}},mounted:function(){var t=this;this.$axios.post("/tomlive/productType/selectAllProductType").then((function(e){console.log(e),t.options=e.data.info}))}},l=n,c=(a("a61c"),a("bc38"),a("2877")),m=Object(c["a"])(l,i,s,!1,null,"b0e01bd6",null);e["default"]=m.exports},"049c":function(t,e,a){},"7bd7":function(t,e,a){},a61c:function(t,e,a){"use strict";var i=a("049c"),s=a.n(i);s.a},bc38:function(t,e,a){"use strict";var i=a("7bd7"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-a04e6aae.dcdfdf16.js.map