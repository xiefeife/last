(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a424788e"],{"61ca":function(e,t,r){"use strict";var n=r("a7cc"),o=r.n(n);o.a},"71c2":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("el-row",[r("el-col",{attrs:{span:18,offset:3}},[r("div",{staticClass:"header_line"}),r("div",{staticClass:"header_a"},[r("span",[e._v(e._s(e.arr))])])])],1)],1)},o=[],s={props:["title"],data:function(){return{arr:this.title}},mounted:function(){}},a=s,i=(r("61ca"),r("2877")),l=Object(i["a"])(a,n,o,!1,null,"fa54168a",null);t["a"]=l.exports},"885f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("headers",{attrs:{title:e.title}})],1),r("el-row",[r("el-col",{attrs:{span:18,offset:3}},[r("div",{staticClass:"post_container"},[r("div",{staticClass:"post_c_t"},[r("span",[e._v("创建岗位")]),r("span",{staticClass:"r"},[r("span",{staticClass:"rs"},[e._v("*")]),r("span",[e._v("必填项")])])]),r("div",{staticClass:"from_data"},[r("el-row",[r("el-col",{attrs:{span:12,offset:3}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[r("el-form-item",{staticClass:"is-required",attrs:{label:"岗位类型：",prop:"post_type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.post_type,callback:function(t){e.$set(e.form,"post_type",t)},expression:"form.post_type"}},e._l(e.form.options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.typeName,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"岗位名称：",prop:"name"}},[r("el-input",{attrs:{maxlength:"20"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"岗位人数：",prop:"num"}},[r("el-input",{attrs:{maxlength:"3"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1),r("el-form-item",{attrs:{label:"岗位职责：",prop:"responsibility"}},[r("el-input",{attrs:{type:"textarea",rows:10,maxlength:"300","show-word-limit":""},model:{value:e.form.responsibility,callback:function(t){e.$set(e.form,"responsibility",t)},expression:"form.responsibility"}})],1),r("el-form-item",{attrs:{label:"任职要求：",prop:"requirement"}},[r("el-input",{attrs:{type:"textarea",rows:10,maxlength:"300","show-word-limit":""},model:{value:e.form.requirement,callback:function(t){e.$set(e.form,"requirement",t)},expression:"form.requirement"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("form")}}},[e._v("保存草稿")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("发布")])],1)],1)],1)],1)],1)])])],1)],1)},o=[],s=(r("b0c0"),r("71c2")),a={components:{headers:s["a"]},data:function(){return{title:"新建岗位",form:{post_type:"",name:"",num:1,responsibility:"",requirement:"",options:[]},rules:{num:[{required:!0,message:"岗位人数不能为空",trigger:"blur"},{pattern:/^[0-9]*$/,message:"只能输入数值"}],name:[{required:!0,message:"岗位名称"},{min:1,max:20,message:"不能超过20字"}],responsibility:[{required:!0,message:"岗位职责不能为空"},{min:1,max:500,message:"不能超过500字"}],requirement:[{required:!0,message:"岗位要求不能为空"},{min:1,max:500,message:"不能超过500字"}],post_type:[{required:!0,message:"岗位类型不能为空",trigger:"change"}]}}},methods:{save:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var r=t,n=window.sessionStorage.getItem("userId");t.$confirm("是否保存","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){"confirm"===e&&r.$axios.post("/tomlive/talentRecruitment/insertSelectTalentRecruitmentStatus",t.$qs.stringify({jobTypeId:t.form.post_type,jobName:t.form.name,jobStatement:t.form.responsibility,jobRequirement:t.form.requirement,talentNumber:t.form.num,userId:n}),{headers:{}}).then((function(e){console.log(e),200==e.status?t.$router.push("/home/post_bc_c"):alert("保存失败")}))})).catch((function(){t.$message({type:"info",message:"取消添加"})}))}))},submitForm:function(e){var t=this;console.log(e),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var r=t,n=window.sessionStorage.getItem("userId");t.$confirm("确认添加岗位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(e){"confirm"===e&&r.$axios.post("/tomlive/talentRecruitment/insertSelectTalentRecruitment",t.$qs.stringify({jobTypeId:t.form.post_type,jobName:t.form.name,jobStatement:t.form.responsibility,jobRequirement:t.form.requirement,talentNumber:t.form.num,userId:n}),{headers:{}}).then((function(e){console.log(e),200==e.status?t.$router.push("/home/post_fb"):alert("添加失败")}))})).catch((function(){t.$message({type:"info",message:"取消添加"})}))}))}},mounted:function(){var e=this;this.$axios.post("/tomlive/talentType/selectAllTalentType").then((function(t){console.log(t),e.form.options=t.data.info,e.form.post_type=e.form.options[0].id}))}},i=a,l=(r("8f69"),r("ac58"),r("2877")),m=Object(l["a"])(i,n,o,!1,null,"e729690c",null);t["default"]=m.exports},"8f69":function(e,t,r){"use strict";var n=r("d348"),o=r.n(n);o.a},"975d":function(e,t,r){},a7cc:function(e,t,r){},ac58:function(e,t,r){"use strict";var n=r("975d"),o=r.n(n);o.a},b0c0:function(e,t,r){var n=r("83ab"),o=r("9bf2").f,s=Function.prototype,a=s.toString,i=/^\s*function ([^ (]*)/,l="name";n&&!(l in s)&&o(s,l,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(e){return""}}})},d348:function(e,t,r){}}]);
//# sourceMappingURL=chunk-a424788e.693aebe8.js.map